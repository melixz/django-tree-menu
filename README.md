# django-tree-menu

Django-приложение для создания и отображения древовидных меню с гибкой структурой, редактируемых через стандартную админку. Поддерживает несколько меню на одной странице, определение активного пункта по URL и эффективную работу с БД (1 запрос на меню).

---

## Особенности

- **Древовидная структура**: Неограниченная вложенность пунктов меню
- **Template tag**: Вставка меню в любой шаблон через `{% draw_menu 'menu_name' %}`
- **Активный пункт**: Автоматическое определение по текущему URL
- **Раскрытие веток**: Открыты все предки активного пункта и первый уровень его потомков
- **Множественные меню**: Несколько независимых меню на одной странице
- **Редактирование через админку**: Удобное управление структурой меню
- **Один запрос к БД**: Высокая производительность даже для больших меню
- **Чистый Django**: Только стандартная библиотека и Django, без сторонних зависимостей

---

## Быстрый старт

### Требования

- Python 3.12+
- Django 5.2.2+
- [uv](https://github.com/astral-sh/uv) (рекомендуется для быстрого управления зависимостями)

### Установка

1. Установите **uv** (если ещё не установлен):

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
# или через pipx
pipx install uv
```

2. Создайте виртуальное окружение и активируйте его:

```bash
uv venv
source .venv/bin/activate  # Linux/Mac
# или
.venv\Scripts\activate  # Windows
```

3. Установите зависимости:

```bash
uv sync
```

4. Примените миграции и создайте суперпользователя:

```bash
python manage.py migrate
python manage.py createsuperuser
```

5. Запустите сервер разработки:

```bash
python manage.py runserver
```

---

## Использование

1. **Создайте меню и пункты меню через админку** (`/admin/`).

2. **Вставьте меню в шаблон:**

```django
{% load menu_tags %}
{% draw_menu 'main_menu' %}
```

- `main_menu` — имя меню, заданное в админке.

---

## Пример структуры меню

- **Главное меню**
    - О компании
        - История
        - Команда
    - Услуги
        - Разработка
        - Дизайн
    - Контакты
